<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/website/global/img/icon/laco.jpg" type="image/jpg">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" href="/website/afiliado/css/lista-geral.css">
    <link rel="stylesheet" href="/website/global/css/styles.css">
    <link rel="stylesheet" href="/website/global/font-awesome/css/all.css">

    <script src="/website/global/jquery.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
    </script>

    <script src="/website/afiliado/js/afiliado.js"></script>

    <style>
        p {
            padding: 1px;
            margin: 1px;
        }
    </style>

    <title>Home</title>
</head>

<body>

    <div class="cabecalho imprimir">
        <div class="row">
            <div class="col-3"> <img src="/website/global/img/laco.png" width="150" height="" alt=""> </div>
            <div class="col">
                <h3>ONG - Estrelas da Mama</h3>
                <h4>Relação de afiliados á ONG</h4>
                <p>Endereço: </p>
                <p>Telefone: </p>
            </div>
        </div>
    </div>

    <header class="border-size-b">

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="lista-geral">
                <img src="/website/global/img/laco.png" width="80" height="" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">

                <div class="col">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="afiliado/cadastrar">Cadastrar Afiliado
                                <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link falta-implementar" href="#">Estoque</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="usuario/cadastrar-usuario">Cadastrar Usuário</a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="../frequencia/vizualizar-frequencia">Lista de Frequência</a>
                        </li>
                    </ul>
                </div>

                <div class="col-1">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="afiliado/sair">Sair</a>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <div class="container">
        <form action="" method="POST">
            <div class="row border-size-b mb-3">

                <div class="col-md-4 col-sm-6">

                    <fieldset>

                        <legend align="center" class="w-auto filter-todos">Afiliados:</legend>
                        
                        <div id="filter-todos" class="input-group mb-3 center incolumn">

                            <label class="" for="todos">
                                <input type="radio" class="option-input radio" name="afiliado" id="todos"
                                    value="todos" checked>Todos
                            </label>

                            <label class="" for="voluntario">
                                <input type="radio" class="option-input radio" name="afiliado" id="voluntario"
                                    value="voluntario">Voluntários
                            </label>

                            <label class="" for="assitidas">
                                <input type="radio" class="option-input radio" name="afiliado" id="assitidas"
                                    value="assistida">Assistidas
                            </label>

                            <button class="btn btn-outline-secondary btn-lg-custom" type="submit" name="btnAfiliado">
                                <i class="fas fa-search"></i>
                            </button>

                        </div>

                    </fieldset>

                </div>

                <div class="col-md-4 col-sm-6">

                    <fieldset>

                        <legend align="center" class="w-auto filter-assistida">Assistida:</legend>

                        <div id="filter-assistida" class="input-group mb-3 center incolumn">


                            <label for="asstratamento">
                                <input type="radio" class="option-input radio" name="assistida" id="asstratamento"
                                    value="em tratamento">Tratamento
                            </label>


                            <label for="assobservacao">
                                <input type="radio" class="option-input radio" name="assistida" id="assobservacao"
                                    value="em observacao">Observação
                            </label>


                            <label for="asscurada">
                                <input type="radio" class="option-input radio" name="assistida" id="asscurada"
                                    value="curada">
                                Curadas
                            </label>

                            <button class="btn btn-outline-secondary btn-lg-custom" type="submit" name="btnAssistida"
                                style="margin-left: 2.5px;">
                                <i class="fas fa-search"></i>
                            </button>

                        </div>

                    </fieldset>

                </div>

                <div class="col-md-4 col-sm-12">

                    <fieldset>

                        <legend align="center" class="w-auto filter-voluntario">Voluntário:</legend>

                        <div id="filter-voluntario" class="input-group mb-3 center incolumn">

                            <label for="voluntario-ativo">
                                <input type="radio" class="option-input radio" name="voluntario" id="voluntario-ativo"
                                    value="ativo">
                                Ativo
                            </label>

                            <label for="voluntario-inativo">
                                <input type="radio" class="option-input radio" name="voluntario" id="voluntario-inativo"
                                    value="inativo">
                                Inativo
                            </label>

                            <input type="text" class="form-control" placeholder="Função" name="cargo">

                            <button class="btn btn-outline-secondary btn-lg-custom" type="submit" name="btnCargo">
                                <i class="fas fa-search"></i>
                            </button>

                        </div>

                    </fieldset>

                </div>
            </div>
        </form>
        <div class="row">
            <button class="btn btn-primary no-imprimir mb-3" onclick="imprimir()">Imprimir <i class="fa fa-print"
                    aria-hidden="true"></i></button>
            <div class="col formatp">
                <p id="retornoQtdAfiliadosFiltro"></p>
            </div>
        </div>

        <div class="table-responsive overflow">
            <table class="table table-bordered table-striped">
                <?php $this->listarAfiliado(); ?>
                <!--</table> -->


                <!-- INICIO: função que verifica se existe id na URL para Visualizar Afiliado -->
                <?php 
                
                if(!empty($_GET)){
                    if(isset($_GET['id'])){ 
                        $this->renderizarHTML('afiliado','ver-afiliado.html');
                    }
                    /*else{
                        $this->paginacao($_GET['pagina']);
                    }*/
                }
                
                ?>
                <!-- FIM: função que verifica se existe id na URL para Visualizar Afiliado -->


        </div>

        <!-- Footer -->
        <?php $this->renderizarHTML('global', 'footer.html');?>
        <!-- Footer -->

        <script>
            function imprimir() {
                window.print();
            }

            let qtdRetornados = document.getElementById('qtdRetornados');
            let retornoQtdAfiliadosFiltro = document.getElementById('retornoQtdAfiliadosFiltro');
            retornoQtdAfiliadosFiltro.innerText = qtdRetornados.innerText;
        </script>
        <script>
            $(document).ready(function () {
                $("#filter-todos").hide();
                $("#filter-assistida").hide();
                $("#filter-voluntario").hide();

                $(".filter-todos").click(function () {
                    $("#filter-todos").toggle();
                    $("#filter-assistida").hide();
                    $("#filter-voluntario").hide();
                });

                $(".filter-assistida").click(function () {
                    $("#filter-assistida").toggle();
                    $("#filter-todos").hide();
                    $("#filter-voluntario").hide();
                    console.log("Click assistida");
                });

                $(".filter-voluntario").click(function () {
                    $("#filter-voluntario").toggle();
                    $("#filter-assistida").hide();
                    $("#filter-todos").hide();
                });

                $(".falta-implementar").click(function () {
                    alert("Será implementado futuramente");
                });
            });
        </script>
</body>

</html>